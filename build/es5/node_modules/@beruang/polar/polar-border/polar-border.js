define(["../../../@polymer/polymer/polymer-element.js","../../../@polymer/polymer/lib/mixins/gesture-event-listeners.js","../../../@polymer/iron-flex-layout/iron-flex-layout.js","../../../@polymer/iron-icons/iron-icons.js","../../../@polymer/polymer/lib/elements/dom-if.js","../../beruang-behavior.js","../polar-behavior.js","../polar-style.js"],function(_polymerElement,_gestureEventListeners,_ironFlexLayout,_ironIcons,_domIf,_beruangBehavior,_polarBehavior,_polarStyle){"use strict";function _templateObject_d248e610995a11e9b773473e5227d82d(){var data=babelHelpers.taggedTemplateLiteral(["\n            <style include=\"polar-style\">\n                 :host{\n                     @apply --layout-vertical;\n                     --north-height: 100px;\n                     --south-height: 100px;\n                     --west-width: 100px;\n                     --east-width: 100px;\n                 }\n\n                 :host > #north {\n                     @apply --layout-flex-none;\n                     @apply --layout-self-stretch;\n                     height: var(--north-height);\n                     position:relative;\n                 }\n\n                 :host > #north > ::slotted(*) {\n                    @apply --layout-fit;\n                 }\n\n                 :host > .mid {\n                     @apply --layout-flex-auto;\n                     @apply --layout-self-stretch;\n                     @apply --layout-horizontal;\n                 }\n\n                 :host > #south {\n                     @apply --layout-flex-none;\n                     @apply --layout-self-stretch;\n                     height: var(--south-height);\n                     position:relative;\n                 }\n\n                 :host > #south > ::slotted(*) {\n                    @apply --layout-fit;\n                 }\n\n                 :host > .mid > #west {\n                     @apply --layout-flex-none;\n                     @apply --layout-self-stretch;\n                     width: var(--west-width);\n                     position:relative;\n                 }\n\n                 :host > .mid > #west > ::slotted(*) {\n                    @apply --layout-fit;\n                 }\n\n                 :host > .mid >  #center {\n                     @apply --layout-flex-auto;\n                     @apply --layout-self-stretch;\n                     position:relative;\n                 }\n\n                 :host > .mid > #center > ::slotted(*) {\n                    @apply --layout-fit;\n                 }\n\n                 :host > .mid >  #center > .side {\n                     position:absolute;\n                     background-color:transparent;\n                     z-index:1;\n                 }\n\n                 :host > .mid >  #center > .side.horizontal {\n                     right:0px;\n                     left:0px;\n                     height:35px;\n                 }\n\n                 :host > .mid >  #center > .side.horizontal.north {\n                     top:0px;\n                     bottom:auto;\n                 }\n\n                 :host > .mid >  #center > .side.horizontal.south {\n                     top:auto;\n                     bottom:0px;\n                 }\n\n                 :host > .mid >  #center > .side.vertical {\n                     top:0px;\n                     bottom:0px;\n                     width:35px;\n                 }\n\n                 :host > .mid >  #center > .side.vertical.west {\n                     right:auto;\n                     left:0px;\n                 }\n\n                 :host > .mid >  #center > .side.vertical.east {\n                     right:0px;\n                     left:auto;\n                 }\n\n                 :host > .mid > #east {\n                     @apply --layout-flex-none;\n                     @apply --layout-self-stretch;\n                     width: var(--east-width);\n                     position:relative;\n                 }\n\n                 :host > .mid > #east > ::slotted(*) {\n                    @apply --layout-fit;\n                 }\n\n                 :host .half-circle {\n                     @apply --layout-horizontal;\n                     background-color:var(--polar-border-resizer-background-color);\n                     z-index:2;\n                     cursor:pointer;\n                 }\n\n                 :host .half-circle > iron-icon {\n                     width:20px;\n                     height:20px;\n                     color:white;\n                 }\n\n                 :host .resizer.horizontal {\n                     @apply --layout-flex-none;\n                     @apply --layout-self-stretch;\n                     @apply --layout-horizontal;\n                     @apply --layout-center-justified;\n                     background-color:var(--polar-border-resizer-background-color);\n                     height:4px;\n                     cursor:ns-resize;\n                     overflow:visible;\n                 }\n\n                 :host .resizer.horizontal > .half-circle {\n                     width: 60px;\n                     height: 30px;\n                 }\n\n                 :host .resizer.horizontal.north {\n                    @apply --layout-start;\n                 }\n\n                 :host([north-collapsed]) .resizer.horizontal.north {\n                     cursor:default;\n                 }\n\n                 :host .resizer.horizontal.north > .half-circle {\n                     border-bottom-left-radius: 120px;\n                     border-bottom-right-radius: 120px;\n                     @apply --layout-center-justified;\n                     @apply --layout-start;\n                 }\n\n                 :host .resizer.horizontal.south {\n                    @apply --layout-end;\n                 }\n\n                 :host([south-collapsed]) .resizer.horizontal.south {\n                     cursor:default;\n                 }\n\n                 :host .resizer.horizontal.south > .half-circle {\n                     border-top-left-radius: 120px;\n                     border-top-right-radius: 120px;\n                     @apply --layout-center-justified;\n                     @apply --layout-end;\n                 }\n\n                 :host .resizer.vertical {\n                     @apply --layout-flex-none;\n                     @apply --layout-self-stretch;\n                     @apply --layout-vertical;\n                     @apply --layout-center-justified;\n                     background-color:var(--polar-border-resizer-background-color);\n                     width:4px;\n                     cursor:ew-resize;\n                     overflow:visible;\n                 }\n\n                 :host .resizer.vertical > .half-circle {\n                     width: 30px;\n                     height: 60px;\n                 }\n\n                 :host .resizer.vertical.west {\n                     @apply --layout-start;\n                 }\n\n                 :host([west-collapsed]) .resizer.vertical.west {\n                     cursor:default;\n                 }\n\n                 :host .resizer.vertical.west > .half-circle {\n                     border-top-right-radius: 120px;\n                     border-bottom-right-radius: 120px;\n                     @apply --layout-start-justified;\n                     @apply --layout-center;\n                 }\n\n                 :host .resizer.vertical.east {\n                     @apply --layout-end;\n                 }\n\n                 :host([east-collapsed]) .resizer.vertical.east {\n                     cursor:default;\n                 }\n\n                 :host .resizer.vertical.east > .half-circle {\n                     border-top-left-radius: 120px;\n                     border-bottom-left-radius: 120px;\n                     @apply --layout-end-justified;\n                     @apply --layout-center;\n                 }\n            </style>\n\n            <template is=\"dom-if\" if=\"[[_size(north)]]\">\n                <template is=\"dom-if\" if=\"[[!northCollapsed]]\">\n                    <div id=\"north\" on-mouseenter=\"_regionEnter\"><slot name=\"north\"></slot></div>\n                </template>\n                <template is=\"dom-if\" if=\"[[northResizable]]\">\n                    <div id=\"north-resizer\" class=\"resizer horizontal north\" on-down=\"_stopDown\" on-track=\"_resize\" on-mouseenter=\"_regionEnter\">\n                        <template is=\"dom-if\" if=\"[[northCollapser]]\">\n                            <div id=\"north-collapser\" class=\"half-circle\" on-tap=\"_regionCollapse\">\n                                <iron-icon icon=\"[[_northIcon(northCollapsed)]]\"></iron-icon>\n                            </div>\n                        </template>\n                    </div>\n                </template>\n            </template>\n\n\t        <div class=\"mid\">\n                <template is=\"dom-if\" if=\"[[_size(west)]]\">\n                    <template is=\"dom-if\" if=\"[[!westCollapsed]]\">\n            \t\t      <div id=\"west\" on-mouseenter=\"_regionEnter\"><slot name=\"west\"></slot></div>\n                    </template>\n                    <template is=\"dom-if\" if=\"[[westResizable]]\">\n                        <div id=\"west-resizer\" class=\"resizer vertical west\" on-down=\"_stopDown\" on-track=\"_resize\" on-mouseenter=\"_regionEnter\">\n                            <template is=\"dom-if\" if=\"[[westCollapser]]\">\n                                <div id=\"west-collapser\" class=\"half-circle\" on-tap=\"_regionCollapse\">\n                                    <iron-icon icon=\"[[_westIcon(westCollapsed)]]\"></iron-icon>\n                                </div>\n                            </template>\n                        </div>\n                    </template>\n                </template>\n\n        \t\t<div id=\"center\">\n                    <slot name=\"center\"></slot>\n                    <template is=\"dom-if\" if=\"[[northResizable]]\">\n                        <template is=\"dom-if\" if=\"[[northCollapser]]\">\n                            <div id=\"north-side\" class=\"side horizontal north\" on-mouseleave=\"_regionExit\"></div>\n                        </template>\n                    </template>\n                    <template is=\"dom-if\" if=\"[[southResizable]]\">\n                        <template is=\"dom-if\" if=\"[[southCollapser]]\">\n                            <div id=\"south-side\" class=\"side horizontal south\"  on-mouseleave=\"_regionExit\"></div>\n                        </template>\n                    </template>\n                    <template is=\"dom-if\" if=\"[[westResizable]]\">\n                        <template is=\"dom-if\" if=\"[[westCollapser]]\">\n                            <div id=\"west-side\" class=\"side vertical west\"  on-mouseleave=\"_regionExit\"></div>\n                        </template>\n                    </template>\n                    <template is=\"dom-if\" if=\"[[eastResizable]]\">\n                        <template is=\"dom-if\" if=\"[[eastCollapser]]\">\n                            <div id=\"east-side\" class=\"side vertical east\"  on-mouseleave=\"_regionExit\"></div>\n                        </template>\n                    </template>\n                </div>\n\n                <template is=\"dom-if\" if=\"[[_size(east)]]\">\n                    <template is=\"dom-if\" if=\"[[eastResizable]]\">\n                        <div id=\"east-resizer\" class=\"resizer vertical east\" on-down=\"_stopDown\" on-track=\"_resize\" on-mouseenter=\"_regionEnter\">\n                            <template is=\"dom-if\" if=\"[[eastCollapser]]\">\n                                <div id=\"east-collapser\" class=\"half-circle\" on-tap=\"_regionCollapse\">\n                                    <iron-icon icon=\"[[_eastIcon(eastCollapsed)]]\"></iron-icon>\n                                </div>\n                            </template>\n                        </div>\n                    </template>\n                    <template is=\"dom-if\" if=\"[[!eastCollapsed]]\">\n            \t\t     <div id=\"east\" on-mouseenter=\"_regionEnter\"><slot name=\"east\"></slot></div>\n                    </template>\n                </template>\n            </div>\n\n            <template is=\"dom-if\" if=\"[[_size(south)]]\">\n                <template is=\"dom-if\" if=\"[[southResizable]]\">\n                    <div id=\"south-resizer\" class=\"resizer horizontal south\" on-down=\"_stopDown\" on-track=\"_resize\" on-mouseenter=\"_regionEnter\">\n                        <template is=\"dom-if\" if=\"[[southCollapser]]\">\n                            <div id=\"south-collapser\" class=\"half-circle\" on-tap=\"_regionCollapse\">\n                                <iron-icon icon=\"[[_southIcon(southCollapsed)]]\"></iron-icon>\n                            </div>\n                        </template>\n                    </div>\n                </template>\n                <template is=\"dom-if\" if=\"[[!southCollapsed]]\">\n                    <div id=\"south\" on-mouseenter=\"_regionEnter\"><slot name=\"south\"></slot></div>\n                </template>\n            </template>\n        "]);_templateObject_d248e610995a11e9b773473e5227d82d=function _templateObject_d248e610995a11e9b773473e5227d82d(){return data};return data}/**
`polar-col` is vertical layout manager.
@customElement
@polymer
*/var PolarBorder=/*#__PURE__*/function(_PolarBehavior){babelHelpers.inherits(PolarBorder,_PolarBehavior);function PolarBorder(){babelHelpers.classCallCheck(this,PolarBorder);return babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(PolarBorder).apply(this,arguments))}babelHelpers.createClass(PolarBorder,[{key:"connectedCallback",value:function connectedCallback(){babelHelpers.get(babelHelpers.getPrototypeOf(PolarBorder.prototype),"connectedCallback",this).call(this);this._setConnected(!0)}},{key:"disconnectedCallback",value:function disconnectedCallback(){babelHelpers.get(babelHelpers.getPrototypeOf(PolarBorder.prototype),"disconnectedCallback",this).call(this);this._setConnected(!1)}},{key:"_regionSize",value:function _regionSize(connected,size,cssProp){var _this=this;if(connected){if(1<=size){var obj={};obj[cssProp]=size+"px";this.updateStyles(obj)}else if(0<size){var orientation="horizontal";if(-1<cssProp.indexOf("north")||-1<cssProp.indexOf("south")){orientation="vertical"}var fWidth="horizontal"==orientation?function(){return _this.offsetWidth}:null,fHeight="vertical"==orientation?function(){return _this.offsetHeight}:null,fCallback=function fCallback(w,h){var calcSize=size*("horizontal"==orientation?w:h),obj={};obj[cssProp]=calcSize+"px";_this.updateStyles(obj)};this._stableSize(fWidth,fHeight,fCallback)}}}/*    _northSouthSize(connected, size, cssProp) {
        if(connected) {
            if(size>=1) {
                let obj = {};
                obj[cssProp] = size+"px";
                this.updateStyles(obj);
            } else if(size>0) {
                let fHeight = ()=>{ return this.offsetHeight; };
                let fCallback = (w,h)=>{
                    let calcSize = size * h;
                    let obj = {};
                    obj[cssProp] = calcSize+"px";
                    this.updateStyles(obj);
                }
                this._stableSize(null, fHeight, fCallback);
            }
        }
    }

    _westEastSize(connected, size, cssProp) {
        if(connected) {
            if(size>=1) {
                let obj = {};
                obj[cssProp] = size+"px";
                this.updateStyles(obj);
            } else if(size>0) {
                let fWidth = ()=>{ return this.offsetWidth; };
                let fCallback = (w,h)=>{
                    let calcSize = size * w;
                    let obj = {};
                    obj[cssProp] = calcSize+"px";
                    this.updateStyles(obj);
                }
                this._stableSize(fWidth, null, fCallback);
            }
        }
    }*/},{key:"_eastSize",value:function _eastSize(connected,east){var _this2=this;if(connected){if(1<=east){this.updateStyles({"--east-width":east+"px"})}else if(0<east){var fWidth=function fWidth(){return _this2.offsetWidth},fCallback=function fCallback(w,h){var size=east*w;_this2.updateStyles({"--east-width":size+"px"})};this._stableSize(fWidth,null,fCallback)}}}},{key:"_northIcon",value:function _northIcon(collapsed){return collapsed?"expand-more":"expand-less"}},{key:"_southIcon",value:function _southIcon(collapsed){return collapsed?"expand-less":"expand-more"}},{key:"_westIcon",value:function _westIcon(collapsed){return collapsed?"chevron-right":"chevron-left"}},{key:"_eastIcon",value:function _eastIcon(collapsed){return collapsed?"chevron-left":"chevron-right"}},{key:"_size",value:function _size(num){return 0<num}},{key:"_stopDown",value:function _stopDown(event){event.preventDefault();event.stopPropagation()}},{key:"_resize",value:function _resize(event){var isResizer=event.target.classList.contains("resizer");if(!isResizer){event.stopPropagation();return}switch(event.detail.state){case"start":var resizer=event.target,id=resizer.id,arr=id.split("-"),region=arr[0],property=region+"Collapsed",collapsed=this.get(property);if(!collapsed){this._region=this.shadowRoot.querySelector("#"+region);//#north, #south, #east, #west
switch(region){case"north":case"south":this._regionSize=this._region.offsetHeight;break;case"west":case"east":this._regionSize=this._region.offsetWidth;break;}}break;case"track":if(this._region){var size=0;switch(this._region.id){case"north":size=this._regionSize+event.detail.dy;this._region.style.height=size+"px";break;case"south":size=this._regionSize-event.detail.dy;this._region.style.height=size+"px";break;case"west":size=this._regionSize+event.detail.dx;this._region.style.width=size+"px";break;case"east":size=this._regionSize-event.detail.dx;this._region.style.width=size+"px";break;}}break;case"end":if(this._region){delete this._region;delete this._regionSize}break;}}},{key:"_regionEnter",value:function _regionEnter(event){var arr=event.target.id.split("-"),region=arr[0];switch(region){case"north":this._setNorthCollapser(!0);break;case"south":this._setSouthCollapser(!0);break;case"west":this._setWestCollapser(!0);break;case"east":this._setEastCollapser(!0);break;}}},{key:"_regionExit",value:function _regionExit(event){var arr=event.target.id.split("-"),region=arr[0];switch(region){case"north":this._setNorthCollapser(!1);break;case"south":this._setSouthCollapser(!1);break;case"west":this._setWestCollapser(!1);break;case"east":this._setEastCollapser(!1);break;}}},{key:"_collapser",value:function _collapser(path){for(var i=0;i<path.length;i++){if(path[i].classList.contains("half-circle")){return path[i]}}return null}},{key:"_regionCollapse",value:function _regionCollapse(event){var path=event.path||event.composedPath&&event.composedPath(),collapser=this._collapser(path);if(!collapser){return}var arr=collapser.id.split("-"),region=arr[0];switch(region){case"north":this._setNorthCollapsed(!this.northCollapsed);if(this.northCollapsed){this._setNorthCollapser(!1)}break;case"south":this._setSouthCollapsed(!this.southCollapsed);if(this.southCollapsed){this._setSouthCollapser(!1)}break;case"west":this._setWestCollapsed(!this.westCollapsed);if(this.westCollapsed){this._setWestCollapser(!1)}break;case"east":this._setEastCollapsed(!this.eastCollapsed);if(this.eastCollapsed){this._setEastCollapser(!1)}break;}}}],[{key:"template",get:function get(){return(0,_polymerElement.html)(_templateObject_d248e610995a11e9b773473e5227d82d())}},{key:"properties",get:function get(){return{connected:{type:Boolean,value:!1,readOnly:!0},north:{type:Number,value:.25},northResizable:{type:Boolean,value:!1},south:{type:Number,value:.25},southResizable:{type:Boolean,value:!1},west:{type:Number,value:.3},westResizable:{type:Boolean,value:!1},east:{type:Number,value:.3},eastResizable:{type:Boolean,value:!1},northCollapser:{type:Boolean,value:!1,readOnly:!0},southCollapser:{type:Boolean,value:!1,readOnly:!0},westCollapser:{type:Boolean,value:!1,readOnly:!0},eastCollapser:{type:Boolean,value:!1,readOnly:!0},northCollapsed:{type:Boolean,value:!1,readOnly:!0,reflectToAttribute:!0},southCollapsed:{type:Boolean,value:!1,readOnly:!0,reflectToAttribute:!0},westCollapsed:{type:Boolean,value:!1,readOnly:!0,reflectToAttribute:!0},eastCollapsed:{type:Boolean,value:!1,readOnly:!0,reflectToAttribute:!0}}}},{key:"observers",get:function get(){return["_regionSize(connected, north, \"--north-height\")","_regionSize(connected, south, \"--south-height\")","_regionSize(connected, west, \"--west-width\")","_regionSize(connected, east, \"--east-width\")"/*'_northSouthSize(connected, north, "--north-height")',
            '_northSouthSize(connected, south, "--south-height")',
            '_westEastSize(connected, west, "--west-width")',
            '_westEastSize(connected, east, "--east-width")'*/]}}]);return PolarBorder}((0,_polarBehavior.PolarBehavior)((0,_beruangBehavior.BeruangBehavior)((0,_gestureEventListeners.GestureEventListeners)(_polymerElement.PolymerElement))));window.customElements.define("polar-border",PolarBorder)});