/**
@license
Copyright (c) 2019 The Beruang Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
https://github.com/DatatransInformatika/beruang/blob/master/LICENSE.txt The complete set of authors may be found at
https://github.com/DatatransInformatika/beruang/blob/master/AUTHORS.txt The complete set of contributors may be
found at https://github.com/DatatransInformatika/beruang/blob/master/CONTRIBUTORS.txt
*/import{html,PolymerElement}from"../../../@polymer/polymer/polymer-element.js";import{GestureEventListeners}from"../../../@polymer/polymer/lib/mixins/gesture-event-listeners.js";import"../../../@polymer/iron-flex-layout/iron-flex-layout.js";import"../../../@webcomponents/shadycss/entrypoints/apply-shim.js";import{BeruangBehavior}from"../../beruang-behavior.js";import{BrownBehavior}from"../brown-behavior.js";import{BrownMaskBehavior}from"../brown-mask/brown-mask-behavior.js";import{BrownTabBehavior}from"./brown-tab-behavior.js";import"./brown-tab-style.js";/**
`brown-tab-desktop` is static tab panel element.
@customElement
@polymer
*/class BrownTabDesktop extends BrownTabBehavior(BrownMaskBehavior(//syarat masking 1
BrownBehavior(BeruangBehavior(GestureEventListeners(PolymerElement))))){static get template(){return html`
      <style  include="brown-tab-style">
        :host > #content > ::slotted([slot=content]) {
          display:none;
        }
        /*content ada di dlm slot ditampilkan jika ada .content-active*/
        :host > #content > ::slotted(.content-active) {
          display:block;/*membatalkan display none*/
        }
      </style>
      <div id="header">
        <iron-icon icon="chevron-left" id="pre-scroll" class="scroller" on-tap="_preScroll"></iron-icon>
        <div id="header-item"><slot id="header-slot" name="header"></slot></div>
        <iron-icon icon="chevron-right" id="post-scroll" class="scroller" on-tap="_postScroll"></iron-icon>
      </div>
      <div id="content"><slot name="content"></slot></div>
      <slot name="mask"></slot><!--syarat masking 2-->
    `}_onTabClosing(tabItem){//1. pindahkan status aktif ke tabItem lain (jika ada)
if(tabItem.active){//if closing tabitem is active then set other to active
let other=this._getTabItemSibling(tabItem,null/*no criteria*/);//cari sibling tanpa periksa aktif atau tidak
if(other){//jika ada
other.active=!0;//pindahkan status active ke tabItem lain
}}//if(tabItem.active)
//2. remove content (jika ada)
let content=this._getContentByDataTab(tabItem.id);//ambil content
if(content){//jika ada
this.removeChild(content);//remove content
}//3. remove tabItem
this.removeChild(tabItem);//remove tabItem
}_onTabActiving(tabItem){//1. cari tabItem lain yang berstatus aktif, jika ada maka batalkan status aktif
let callback=sibling=>{//callback akan dikirimkan ke fungsi _getTabItemSibling
return!0==sibling.active;//syarat sibling: aktif
},other=this._getTabItemSibling(tabItem,callback);//callback sudah dikirimkan ke fungsi _getTabItemSibling
//other -> sibling
if(other){other.active=!1;//matikan tab lain yang statusnya aktif(mengalami _activeChanged)
}//mengatifkan tab, nonaktifkan tab lain: END
//aktifkan tab yang di-klik: START
//2. set status active tabItem menjadi true
tabItem.active=!0;//properti tabitem desktop menjadi aktif(mengalami _activeChanged)
}_onTabActiveChanged(tabItem,active){let content=this._getContentByDataTab(tabItem.id);//tabItem.id "item1", "item2", "item3", etc...
if(!content){//ambil content yg data-tab == tabItem.id
return;//kalau content tidak ada,langsung keluar dr program
}if(active){///////////e.detail.active == true, tambahkan class content-active dr Index.html
content.classList.add("content-active");//display:block
}else{///////////e.detail.active == false, hapus class content-active dr Index.html
content.classList.remove("content-active");//display:none
}}_getContentByDataTab(tabId){//v
let fCheck=el=>{let data="BROWN-TABITEM-DESKTOP"!=el.nodeName?el.getAttribute("data-tab"):null;//nyari tag konten
return tabId==data};return this._getLightDOM(this.lastElementChild,!1,fCheck)}}window.customElements.define("brown-tab-desktop",BrownTabDesktop);