/**
@license
Copyright (c) 2019 The Beruang Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
https://github.com/DatatransInformatika/beruang/blob/master/LICENSE.txt The complete set of authors may be found at
https://github.com/DatatransInformatika/beruang/blob/master/AUTHORS.txt The complete set of contributors may be
found at https://github.com/DatatransInformatika/beruang/blob/master/CONTRIBUTORS.txt
*/import{html,PolymerElement}from"../../../@polymer/polymer/polymer-element.js";import{GestureEventListeners}from"../../../@polymer/polymer/lib/mixins/gesture-event-listeners.js";import"../../../@polymer/iron-flex-layout/iron-flex-layout.js";import"../../../@polymer/polymer/lib/elements/dom-if.js";import{BeruangBehavior}from"../../beruang-behavior.js";import{PolarBehavior}from"../polar-behavior.js";import"../polar-style.js";/**
`polar-col` is vertical layout manager.
@customElement
@polymer
*/class PolarBorder extends PolarBehavior(BeruangBehavior(GestureEventListeners(PolymerElement))){static get template(){return html`
            <style include="polar-style">
                 :host{
                     @apply --layout-vertical;
                 }

                 :host > #north {
                     @apply --layout-flex-none;
                     @apply --layout-self-stretch;
                     height: 100px;
                     position:relative;
                 }

                 :host > #north > ::slotted(*) {
                    @apply --layout-fit;
                 }

                 :host > .mid {
                     @apply --layout-flex-auto;
                     @apply --layout-self-stretch;
                     @apply --layout-horizontal;
                 }

                 :host > #south {
                     @apply --layout-flex-none;
                     @apply --layout-self-stretch;
                     height: 100px;
                     position:relative;
                 }

                 :host > #south > ::slotted(*) {
                    @apply --layout-fit;
                 }

                 :host > .mid > #west {
                     @apply --layout-flex-none;
                     @apply --layout-self-stretch;
                     width: 100px;
                     position:relative;
                 }

                 :host > .mid > #west > ::slotted(*) {
                    @apply --layout-fit;
                 }

                 :host > .mid >  #center {
                     @apply --layout-flex-auto;
                     @apply --layout-self-stretch;
                     position:relative;
                 }

                 :host > .mid > #center > ::slotted(*) {
                    @apply --layout-fit;
                 }

                 :host > .mid > #east {
                     @apply --layout-flex-none;
                     @apply --layout-self-stretch;
                     width: 100px;
                     position:relative;
                 }

                 :host > .mid > #east > ::slotted(*) {
                    @apply --layout-fit;
                 }

                 :host .horizontal-resizer {
                     @apply --layout-flex-none;
                     @apply --layout-self-stretch;
                     background-color:var(--polar-border-resizer-background-color);
                     height:4px;
                     cursor:ns-resize;
                 }

                 :host .vertical-resizer {
                     @apply --layout-flex-none;
                     @apply --layout-self-stretch;
                     background-color:var(--polar-border-resizer-background-color);
                     width:4px;
                     cursor:ew-resize;
                 }
            </style>
            <div id="north"><slot name="north"></slot></div>
            <template is="dom-if" if="[[northResizable]]">
                <div id="north-resizer" class="horizontal-resizer" on-down="_stopDown" on-track="_resize"></div>
            </template>
	        <div class="mid">
        		<div id="west"><slot name="west"></slot></div>
                <template is="dom-if" if="[[westResizable]]">
                    <div id="west-resizer" class="vertical-resizer" on-down="_stopDown" on-track="_resize"></div>
                </template>
        		<div id="center"><slot name="center"></slot></div>
                <template is="dom-if" if="[[eastResizable]]">
                    <div id="east-resizer" class="vertical-resizer" on-down="_stopDown" on-track="_resize"></div>
                </template>
        		<div id="east"><slot name="east"></slot></div>
            </div>
            <template is="dom-if" if="[[southResizable]]">
                <div id="south-resizer" class="horizontal-resizer" on-down="_stopDown" on-track="_resize"></div>
            </template>
            <div id="south"><slot name="south"></slot></div>
        `}static get properties(){return{north:{type:Number,value:0},northResizable:{type:Boolean,value:!1},south:{type:Number,value:0},southResizable:{type:Boolean,value:!1},west:{type:Number,value:0},westResizable:{type:Boolean,value:!1},east:{type:Number,value:0},eastResizable:{type:Boolean,value:!1}}}_stopDown(event){event.preventDefault();event.stopPropagation()}_resize(event){switch(event.detail.state){case"start":let id=event.target.id,arr=id.split("-");this._regionId="#"+arr[0];//#north, #south, #east, #west
this._region=this.shadowRoot.querySelector(this._regionId);switch(this._regionId){case"#north":case"#south":this._regionSize=this._region.offsetHeight;break;case"#west":case"#east":this._regionSize=this._region.offsetWidth;break;}break;case"track":let size=0;switch(this._regionId){case"#north":size=this._regionSize+event.detail.dy;this._region.style.height=size+"px";break;case"#south":size=this._regionSize-event.detail.dy;this._region.style.height=size+"px";break;case"#west":size=this._regionSize+event.detail.dx;this._region.style.width=size+"px";break;case"#east":size=this._regionSize-event.detail.dx;this._region.style.width=size+"px";break;}break;case"end":delete this._regionId;delete this._region;delete this._regionSize;break;}}}window.customElements.define("polar-border",PolarBorder);